<div class="max-h-[90vh] overflow-y-auto">
  <hlm-dialog-header>
    <h2 hlmDialogTitle>Add New ERL Glossary Item</h2>
    <p hlmDialogDescription>
      Enter all required information for the new ERL Glossary item.
    </p>
  </hlm-dialog-header>

  <form [formGroup]="form" class="space-y-6 py-4" (ngSubmit)="onSave()">
    <!-- Basic Information Section -->
    <div class="space-y-4">
      <h3 class="text-sm font-semibold text-[var(--foreground)] border-b pb-2">
        Basic Information
      </h3>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <!-- Column Header -->
        <div class="space-y-2 md:col-span-2">
          <label hlmLabel for="colmn_header">
            Column Header <span class="text-destructive">*</span>
          </label>
          <input
            hlmInput
            id="colmn_header"
            type="text"
            formControlName="colmn_header"
            placeholder="Enter column header name"
            [class.border-destructive]="!isFieldValid('colmn_header')"
          />
          @if (getFieldError('colmn_header')) {
          <p class="text-xs text-destructive">
            {{ getFieldError("colmn_header") }}
          </p>
          }
        </div>

        <!-- Description -->
        <div class="space-y-2 md:col-span-2">
          <label hlmLabel for="description">
            Description <span class="text-destructive">*</span>
          </label>
          <textarea
            hlmInput
            id="description"
            rows="3"
            formControlName="description"
            placeholder="Enter description of the column"
            [class.border-destructive]="!isFieldValid('description')"
            class="resize-none"
          ></textarea>
          @if (getFieldError('description')) {
          <p class="text-xs text-destructive">
            {{ getFieldError("description") }}
          </p>
          }
        </div>

        <!-- Data Type -->
        <div class="space-y-2">
          <label hlmLabel for="data_type">
            Data Type <span class="text-destructive">*</span>
          </label>
          <brn-select formControlName="data_type" class="inline-block">
            <hlm-select-trigger
              [class.border-destructive]="!isFieldValid('data_type')"
              class="w-full"
            >
              <hlm-select-value placeholder="Select Data Type" />
            </hlm-select-trigger>
            <hlm-select-content>
              @for (option of dataTypeOptions; track option) {
              <hlm-option [value]="option">{{ option }}</hlm-option>
              }
            </hlm-select-content>
          </brn-select>
          @if (getFieldError('data_type')) {
          <p class="text-xs text-destructive">
            {{ getFieldError("data_type") }}
          </p>
          }
        </div>
      </div>
    </div>

    <!-- Log Flags Section -->
    <div class="space-y-4">
      <h3 class="text-sm font-semibold text-[var(--foreground)] border-b pb-2">
        Log Flags
      </h3>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <!-- IPS -->
        <div class="space-y-2">
          <label class="flex items-center gap-2 cursor-pointer">
            <input
              type="checkbox"
              formControlName="ips"
              class="w-4 h-4 rounded border-gray-300"
            />
            <span class="text-sm font-medium">IPS</span>
          </label>
        </div>

        <!-- T/I Plan -->
        <div class="space-y-2">
          <label class="flex items-center gap-2 cursor-pointer">
            <input
              type="checkbox"
              formControlName="t_i_plan"
              class="w-4 h-4 rounded border-gray-300"
            />
            <span class="text-sm font-medium">T/I Plan</span>
          </label>
        </div>

        <!-- CFR Log -->
        <div class="space-y-2">
          <label class="flex items-center gap-2 cursor-pointer">
            <input
              type="checkbox"
              formControlName="cfr_log"
              class="w-4 h-4 rounded border-gray-300"
            />
            <span class="text-sm font-medium">CFR Log</span>
          </label>
        </div>

        <!-- RR List -->
        <div class="space-y-2">
          <label class="flex items-center gap-2 cursor-pointer">
            <input
              type="checkbox"
              formControlName="rr_list"
              class="w-4 h-4 rounded border-gray-300"
            />
            <span class="text-sm font-medium">RR List</span>
          </label>
        </div>

        <!-- ITSTP -->
        <div class="space-y-2">
          <label class="flex items-center gap-2 cursor-pointer">
            <input
              type="checkbox"
              formControlName="itstp"
              class="w-4 h-4 rounded border-gray-300"
            />
            <span class="text-sm font-medium">ITSTP</span>
          </label>
        </div>

        <!-- WAF Log -->
        <div class="space-y-2">
          <label class="flex items-center gap-2 cursor-pointer">
            <input
              type="checkbox"
              formControlName="waf_log"
              class="w-4 h-4 rounded border-gray-300"
            />
            <span class="text-sm font-medium">WAF Log</span>
          </label>
        </div>
      </div>
    </div>

    <hlm-dialog-footer>
      <button
        hlmBtn
        type="button"
        variant="outline"
        brnDialogClose
        (click)="onCancel()"
      >
        Cancel
      </button>
      <button
        hlmBtn
        type="submit"
        variant="default"
        [disabled]="!isFormValid()"
      >
        <ng-icon hlm name="lucideSave" size="16px" />
        <span>Save</span>
      </button>
    </hlm-dialog-footer>
  </form>
</div>
